import React, { ReactNode, useContext } from "react";
import styles from "./Sidebar.module.css";
import logo from "../../assets/images/logo2.jpg";
import { Link } from "react-router-dom";
import clsx from "clsx";
import { CourseContext } from "../../contexts/CourseContext";

type Categories = {
  svg: ReactNode;
  text: string;
  link: string;
};

const categories: Categories[] = [
  {
    svg: (
      <svg
        width="20"
        height="20"
        viewBox="0 0 20 20"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          d="M10.8333 7.5V2.5H17.5V7.5H10.8333ZM2.5 10.8333V2.5H9.16667V10.8333H2.5ZM10.8333 17.5V9.16667H17.5V17.5H10.8333ZM2.5 17.5V12.5H9.16667V17.5H2.5ZM4.16667 9.16667H7.5V4.16667H4.16667V9.16667ZM12.5 15.8333H15.8333V10.8333H12.5V15.8333ZM12.5 5.83333H15.8333V4.16667H12.5V5.83333ZM4.16667 15.8333H7.5V14.1667H4.16667V15.8333Z"
          fill="black"
        />
      </svg>
    ),
    text: "Dashboard",
    link: "/admin/dashboard",
  },
  {
    svg: (
      <svg
        width="20"
        height="20"
        viewBox="0 0 20 20"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          d="M9.25 14.875V5.41667C8.66667 5.11111 8.0625 4.88194 7.4375 4.72917C6.8125 4.57639 6.16514 4.5 5.49542 4.5C4.98236 4.5 4.47292 4.54514 3.96708 4.63542C3.46125 4.72569 2.97222 4.875 2.5 5.08333V14.5C2.98611 14.3194 3.47785 14.191 3.97521 14.1146C4.47271 14.0382 4.98097 14 5.5 14C6.15764 14 6.79771 14.0833 7.42021 14.25C8.04285 14.4167 8.65278 14.625 9.25 14.875ZM10 17C9.31944 16.5556 8.60417 16.1944 7.85417 15.9167C7.10417 15.6389 6.31944 15.5 5.5 15.5C4.97222 15.5 4.44444 15.5521 3.91667 15.6562C3.38889 15.7604 2.88194 15.9167 2.39583 16.125C2.0625 16.2639 1.74653 16.2394 1.44792 16.0515C1.14931 15.8635 1 15.5894 1 15.2292V4.75C1 4.55556 1.05208 4.375 1.15625 4.20833C1.26042 4.04167 1.40278 3.91667 1.58333 3.83333C2.20833 3.55556 2.84653 3.34722 3.49792 3.20833C4.14944 3.06944 4.81389 3 5.49125 3C6.45542 3 7.29167 3.09375 8 3.28125C8.70833 3.46875 9.45833 3.76389 10.25 4.16667C10.4028 4.25 10.5243 4.36458 10.6146 4.51042C10.7049 4.65625 10.75 4.81944 10.75 5V14.875C11.3472 14.5972 11.9572 14.3819 12.5798 14.2292C13.2023 14.0764 13.8424 14 14.5 14C15.0139 14 15.5243 14.0347 16.0312 14.1042C16.5382 14.1736 17.0278 14.3056 17.5 14.5V3.47917C17.6528 3.53472 17.8065 3.58958 17.961 3.64375C18.1156 3.69792 18.2675 3.76111 18.4167 3.83333C18.5972 3.91667 18.7431 4.04167 18.8542 4.20833C18.9653 4.375 19.0208 4.55556 19.0208 4.75V15.2292C19.0208 15.5764 18.9132 15.8542 18.6979 16.0625C18.4826 16.2708 18.2569 16.3194 18.0208 16.2083C17.4653 15.9583 16.8925 15.7778 16.3025 15.6667C15.7126 15.5556 15.1118 15.5 14.5 15.5C13.6806 15.5 12.8958 15.6389 12.1458 15.9167C11.3958 16.1944 10.6806 16.5556 10 17ZM13 12V3L15.5 2V11L13 12Z"
          fill="black"
        />
      </svg>
    ),
    text: "Courses",
    link: "/admin/courses",
  },
  {
    svg: (
      <svg
        width="20"
        height="20"
        viewBox="0 0 20 20"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          d="M3.5 17C3.0875 17 2.73438 16.8531 2.44063 16.5594C2.14688 16.2656 2 15.9125 2 15.5V4.5C2 4.0875 2.14688 3.73438 2.44063 3.44063C2.73438 3.14688 3.0875 3 3.5 3H16.5C16.9125 3 17.2656 3.14688 17.5594 3.44063C17.8531 3.73438 18 4.0875 18 4.5V15.5C18 15.9125 17.8531 16.2656 17.5594 16.5594C17.2656 16.8531 16.9125 17 16.5 17H3.5ZM3.5 15.5H16.5V4.5H3.5V15.5ZM5 13.5H15V12H5V13.5ZM5 10.5H8.5V6H5V10.5ZM10 10.5H15V9H10V10.5ZM10 7.5H15V6H10V7.5Z"
          fill="black"
        />
      </svg>
    ),
    text: "Blog Manage",
    link: "/admin/blog",
  },
  {
    svg: (
      <svg
        width="20"
        height="20"
        viewBox="0 0 20 20"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          d="M9.99984 14.1667C10.2359 14.1667 10.4339 14.0868 10.5936 13.9271C10.7533 13.7674 10.8332 13.5694 10.8332 13.3333C10.8332 13.0972 10.7533 12.8993 10.5936 12.7396C10.4339 12.5799 10.2359 12.5 9.99984 12.5C9.76373 12.5 9.56581 12.5799 9.40609 12.7396C9.24636 12.8993 9.1665 13.0972 9.1665 13.3333C9.1665 13.5694 9.24636 13.7674 9.40609 13.9271C9.56581 14.0868 9.76373 14.1667 9.99984 14.1667ZM9.99984 10.8333C10.2359 10.8333 10.4339 10.7535 10.5936 10.5937C10.7533 10.434 10.8332 10.2361 10.8332 9.99999C10.8332 9.76388 10.7533 9.56597 10.5936 9.40624C10.4339 9.24652 10.2359 9.16666 9.99984 9.16666C9.76373 9.16666 9.56581 9.24652 9.40609 9.40624C9.24636 9.56597 9.1665 9.76388 9.1665 9.99999C9.1665 10.2361 9.24636 10.434 9.40609 10.5937C9.56581 10.7535 9.76373 10.8333 9.99984 10.8333ZM9.99984 7.49999C10.2359 7.49999 10.4339 7.42013 10.5936 7.26041C10.7533 7.10069 10.8332 6.90277 10.8332 6.66666C10.8332 6.43055 10.7533 6.23263 10.5936 6.07291C10.4339 5.91319 10.2359 5.83333 9.99984 5.83333C9.76373 5.83333 9.56581 5.91319 9.40609 6.07291C9.24636 6.23263 9.1665 6.43055 9.1665 6.66666C9.1665 6.90277 9.24636 7.10069 9.40609 7.26041C9.56581 7.42013 9.76373 7.49999 9.99984 7.49999ZM16.6665 16.6667H3.33317C2.87484 16.6667 2.48248 16.5035 2.15609 16.1771C1.8297 15.8507 1.6665 15.4583 1.6665 15V11.6667C2.12484 11.6667 2.5172 11.5035 2.84359 11.1771C3.16998 10.8507 3.33317 10.4583 3.33317 9.99999C3.33317 9.54166 3.16998 9.1493 2.84359 8.82291C2.5172 8.49652 2.12484 8.33333 1.6665 8.33333V4.99999C1.6665 4.54166 1.8297 4.1493 2.15609 3.82291C2.48248 3.49652 2.87484 3.33333 3.33317 3.33333H16.6665C17.1248 3.33333 17.5172 3.49652 17.8436 3.82291C18.17 4.1493 18.3332 4.54166 18.3332 4.99999V8.33333C17.8748 8.33333 17.4825 8.49652 17.1561 8.82291C16.8297 9.1493 16.6665 9.54166 16.6665 9.99999C16.6665 10.4583 16.8297 10.8507 17.1561 11.1771C17.4825 11.5035 17.8748 11.6667 18.3332 11.6667V15C18.3332 15.4583 18.17 15.8507 17.8436 16.1771C17.5172 16.5035 17.1248 16.6667 16.6665 16.6667ZM16.6665 15V12.875C16.1526 12.5694 15.7464 12.1632 15.4478 11.6562C15.1491 11.1493 14.9998 10.5972 14.9998 9.99999C14.9998 9.40277 15.1491 8.85069 15.4478 8.34374C15.7464 7.8368 16.1526 7.43055 16.6665 7.12499V4.99999H3.33317V7.12499C3.84706 7.43055 4.25331 7.8368 4.55192 8.34374C4.85053 8.85069 4.99984 9.40277 4.99984 9.99999C4.99984 10.5972 4.85053 11.1493 4.55192 11.6562C4.25331 12.1632 3.84706 12.5694 3.33317 12.875V15H16.6665Z"
          fill="black"
        />
      </svg>
    ),
    text: "Coupons",
    link: "/admin/coupons",
  },
  {
    svg: (
      <svg
        width="20"
        height="20"
        viewBox="0 0 20 20"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          d="M10.0002 4C11.5974 4 13.0696 4.34028 14.4168 5.02083C15.7641 5.70139 16.771 6.61111 17.4377 7.75C17.5071 7.86111 17.521 7.98611 17.4793 8.125C17.4377 8.26389 17.3613 8.36806 17.2502 8.4375C17.1252 8.50694 17.0002 8.52083 16.8752 8.47917C16.7502 8.4375 16.6529 8.36111 16.5835 8.25C16.0002 7.25 15.1147 6.45833 13.9272 5.875C12.7397 5.29167 11.4307 5 10.0002 5C8.56961 5 7.26058 5.29167 6.07308 5.875C4.88558 6.45833 4.00016 7.25 3.41683 8.25C3.34738 8.375 3.25016 8.45486 3.12516 8.48958C3.00016 8.52431 2.87516 8.50694 2.75016 8.4375C2.63905 8.36806 2.56266 8.26389 2.521 8.125C2.47933 7.98611 2.49322 7.86111 2.56266 7.75C3.22933 6.61111 4.23627 5.70139 5.5835 5.02083C6.93072 4.34028 8.40294 4 10.0002 4ZM10.0002 6C11.7918 6 13.3196 6.63194 14.5835 7.89583C15.8474 9.15972 16.4793 10.6944 16.4793 12.5C16.4793 13.1944 16.2397 13.7847 15.7606 14.2708C15.2814 14.7569 14.6946 15 14.0002 15C13.3057 15 12.7154 14.7569 12.2293 14.2708C11.7432 13.7847 11.5002 13.1944 11.5002 12.5C11.5002 12.0833 11.3543 11.7292 11.0627 11.4375C10.771 11.1458 10.4238 11 10.021 11C9.61822 11 9.26752 11.1458 8.96891 11.4375C8.6703 11.7292 8.521 12.0833 8.521 12.5C8.521 13.9861 8.93419 15.1076 9.76058 15.8646C10.587 16.6215 11.5002 17 12.5002 17C12.6391 17 12.7571 17.0486 12.8543 17.1458C12.9516 17.2431 13.0002 17.3611 13.0002 17.5C13.0002 17.6389 12.9516 17.7569 12.8543 17.8542C12.7571 17.9514 12.6391 18 12.5002 18C11.2779 18 10.1425 17.5312 9.09391 16.5938C8.0453 15.6562 7.521 14.2917 7.521 12.5C7.521 11.8056 7.76058 11.2153 8.23975 10.7292C8.71891 10.2431 9.30572 10 10.0002 10C10.6946 10 11.2849 10.2431 11.771 10.7292C12.2571 11.2153 12.5002 11.8056 12.5002 12.5C12.5002 12.9167 12.646 13.2708 12.9377 13.5625C13.2293 13.8542 13.5766 14 13.9793 14C14.3821 14 14.7328 13.8542 15.0314 13.5625C15.33 13.2708 15.4793 12.9167 15.4793 12.5C15.4793 10.9861 14.9446 9.69097 13.8752 8.61458C12.8057 7.53819 11.5141 7 10.0002 7C8.48627 7 7.19461 7.53472 6.12516 8.60417C5.05572 9.67361 4.521 10.9722 4.521 12.5C4.521 12.9028 4.56266 13.2951 4.646 13.6771C4.72933 14.059 4.85433 14.4306 5.021 14.7917C5.09044 14.9167 5.10086 15.0417 5.05225 15.1667C5.00364 15.2917 4.91683 15.3889 4.79183 15.4583C4.66683 15.5139 4.53836 15.5174 4.40641 15.4688C4.27447 15.4201 4.18072 15.3333 4.12516 15.2083C3.93072 14.7778 3.78489 14.3368 3.68766 13.8854C3.59044 13.434 3.54183 12.9722 3.54183 12.5C3.54183 10.6944 4.1703 9.15972 5.42725 7.89583C6.68419 6.63194 8.2085 6 10.0002 6ZM10.0002 2C10.9585 2 11.8821 2.11806 12.771 2.35417C13.6599 2.59028 14.4793 2.93056 15.2293 3.375C15.3543 3.44444 15.4307 3.54514 15.4585 3.67708C15.4863 3.80903 15.4654 3.9375 15.396 4.0625C15.3266 4.17361 15.2259 4.25 15.0939 4.29167C14.962 4.33333 14.8335 4.31944 14.7085 4.25C14.0418 3.84722 13.3022 3.54514 12.4897 3.34375C11.6772 3.14236 10.8474 3.04167 10.0002 3.04167C9.15294 3.04167 8.32308 3.14236 7.51058 3.34375C6.69808 3.54514 5.9585 3.84722 5.29183 4.25C5.16683 4.31944 5.03836 4.33681 4.90641 4.30208C4.77447 4.26736 4.67377 4.1875 4.60433 4.0625C4.53488 3.95139 4.51405 3.82986 4.54183 3.69792C4.56961 3.56597 4.646 3.46528 4.771 3.39583C5.521 2.9375 6.34044 2.59028 7.22933 2.35417C8.11822 2.11806 9.04183 2 10.0002 2ZM10.0002 8C11.0557 8 11.9897 8.36111 12.8022 9.08333C13.6147 9.80556 14.1391 10.7431 14.3752 11.8958C14.4029 12.0347 14.3786 12.1632 14.3022 12.2812C14.2259 12.3993 14.1182 12.4722 13.9793 12.5C13.8404 12.5278 13.7154 12.5035 13.6043 12.4271C13.4932 12.3507 13.4238 12.2431 13.396 12.1042C13.2016 11.1875 12.7918 10.441 12.1668 9.86458C11.5418 9.28819 10.8196 9 10.0002 9C9.04183 9 8.22239 9.38889 7.54183 10.1667C6.86127 10.9444 6.521 11.8889 6.521 13C6.521 13.75 6.68419 14.4792 7.01058 15.1875C7.33697 15.8958 7.771 16.4583 8.31266 16.875C8.42377 16.9583 8.48975 17.0694 8.51058 17.2083C8.53141 17.3472 8.50016 17.4722 8.41683 17.5833C8.3335 17.6944 8.22238 17.7569 8.0835 17.7708C7.94461 17.7847 7.81961 17.75 7.7085 17.6667C7.04183 17.1389 6.51058 16.4549 6.11475 15.6146C5.71891 14.7743 5.521 13.9028 5.521 13C5.521 11.6111 5.95502 10.4306 6.82308 9.45833C7.69113 8.48611 8.75016 8 10.0002 8ZM10.0002 12C10.1391 12 10.2571 12.0486 10.3543 12.1458C10.4516 12.2431 10.5002 12.3611 10.5002 12.5C10.5002 13.5417 10.8613 14.3333 11.5835 14.875C12.3057 15.4167 13.1043 15.6875 13.9793 15.6875C14.1321 15.6875 14.2814 15.6736 14.4272 15.6458C14.5731 15.6181 14.7154 15.5903 14.8543 15.5625C14.9793 15.5347 15.1043 15.5556 15.2293 15.625C15.3543 15.6944 15.4307 15.7986 15.4585 15.9375C15.4863 16.0764 15.4654 16.2049 15.396 16.3229C15.3266 16.441 15.2224 16.5139 15.0835 16.5417C14.8891 16.5833 14.705 16.6181 14.5314 16.6458C14.3578 16.6736 14.1738 16.6875 13.9793 16.6875C12.6599 16.6875 11.5835 16.2847 10.7502 15.4792C9.91683 14.6736 9.50016 13.6806 9.50016 12.5C9.50016 12.3611 9.54877 12.2431 9.646 12.1458C9.74322 12.0486 9.86127 12 10.0002 12Z"
          fill="black"
        />
      </svg>
    ),
    text: "Authentication",
    link: "/admin/authentication",
  },
  {
    svg: (
      <svg
        width="20"
        height="20"
        viewBox="0 0 20 20"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          d="M14 14C14.3472 14 14.6424 13.8785 14.8854 13.6354C15.1285 13.3924 15.25 13.0972 15.25 12.75C15.25 12.4028 15.1285 12.1076 14.8854 11.8646C14.6424 11.6215 14.3472 11.5 14 11.5C13.6528 11.5 13.3576 11.6215 13.1146 11.8646C12.8715 12.1076 12.75 12.4028 12.75 12.75C12.75 13.0972 12.8715 13.3924 13.1146 13.6354C13.3576 13.8785 13.6528 14 14 14ZM13.9981 16.5C14.4438 16.5 14.8542 16.3889 15.2292 16.1667C15.6042 15.9444 15.9028 15.6528 16.125 15.2917C15.8056 15.1111 15.4672 14.9757 15.11 14.8854C14.7528 14.7951 14.3813 14.75 13.9954 14.75C13.6096 14.75 13.2396 14.7986 12.8854 14.8958C12.5312 14.9931 12.1944 15.125 11.875 15.2917C12.0972 15.6528 12.3952 15.9444 12.769 16.1667C13.1427 16.3889 13.5524 16.5 13.9981 16.5ZM10 18C8.15278 17.5833 6.60764 16.5382 5.36458 14.8646C4.12153 13.191 3.5 11.3264 3.5 9.27083V4.5L10 2L16.5 4.5V9.10417C16.1944 8.96528 15.9236 8.85417 15.6875 8.77083C15.4514 8.6875 15.2222 8.63194 15 8.60417V5.52083L10 3.60417L5 5.52083V9.27083C5 9.95139 5.08681 10.6181 5.26042 11.2708C5.43403 11.9236 5.6875 12.5382 6.02083 13.1146C6.35417 13.691 6.76042 14.2188 7.23958 14.6979C7.71875 15.1771 8.25694 15.5972 8.85417 15.9583C8.96528 16.2778 9.14236 16.6146 9.38542 16.9688C9.62847 17.3229 9.89583 17.6528 10.1875 17.9583L10.0938 17.9792L10 18ZM13.9952 18C12.8873 18 11.9444 17.6095 11.1667 16.8285C10.3889 16.0477 10 15.1033 10 13.9952C10 12.8873 10.3905 11.9444 11.1715 11.1667C11.9523 10.3889 12.8967 10 14.0048 10C15.1127 10 16.0556 10.3905 16.8333 11.1715C17.6111 11.9523 18 12.8967 18 14.0048C18 15.1127 17.6095 16.0556 16.8285 16.8333C16.0477 17.6111 15.1033 18 13.9952 18Z"
          fill="black"
        />
      </svg>
    ),
    text: "Admin Settings",
    link: "/admin/settings",
  },
];

export default function Sidebar() {
  const context = useContext(CourseContext);
  // const showAddSectionForm = context?.showAddSectionForm;

  return (
    <div className={clsx(styles.sidebar)}>
      {/* <div className={clsx(showAddSectionForm && styles.dimPage)}></div> */}
      <div className={styles.sidebarTop}>
        <div className={styles.logoContainer}>
          <img src={logo} alt="logo" />
        </div>
      </div>
      <div className={styles.sidebarBottom}>
        <div className={styles.categoryContainer}>
          {categories.map((item) => (
            <Link key={item.link} to={item.link}>
              <CategoryItem text={item.text} svgCode={item.svg} />
            </Link>
          ))}
        </div>
        <div className={styles.logoutContainer}>
          <svg
            width="24"
            height="24"
            viewBox="0 0 24 24"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M5 21C4.45 21 3.97917 20.8042 3.5875 20.4125C3.19583 20.0208 3 19.55 3 19V5C3 4.45 3.19583 3.97917 3.5875 3.5875C3.97917 3.19583 4.45 3 5 3H12V5H5V19H12V21H5ZM16 17L14.625 15.55L17.175 13H9V11H17.175L14.625 8.45L16 7L21 12L16 17Z"
              fill="black"
            />
          </svg>
          <p>Logout</p>
        </div>
      </div>
    </div>
  );
}

function CategoryItem({ svgCode, text }: { svgCode: ReactNode; text: string }) {
  return (
    <div className={styles.categoryItem}>
      <div className={styles.categoryItemLeft}>{svgCode}</div>
      <div className={styles.categoryItemRight}>
        <p>{text}</p>
      </div>
    </div>
  );
}
